<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/custom.css">
    <link rel="stylesheet" href="css/theme/white.css">
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
</head>
<body>
<div class="reveal">
    <div class="slides">
        <section>
            <h1>Data Driven Documents: Data visualization using D3.js</h1>
            <p>Sandro Bauer, Lin Ji, Daniel Schubert, Simon Zachau</p>
        </section>
        <section>
            <h2>Structure</h2>
            <ul>
                <li>Definition</li>
                <li>Reasons for why we should use it</li>
                <li>Instruction on how to use it</li>
                <li>Look & feel</li>
                <li>Alternatives</li>
                <ul>
                    <li>Chart.js</li>
                    <li>Raphael.js</li>
                    <li>nvd3.js</li>
                </ul>
            </ul>
        </section>
        <section id="definition">
            <h2>Definition</h2>
            <ul>
                <li><strong class="highlight">D3</strong>: <strong class="highlight">D</strong>ata-<strong class="highlight">D</strong>riven <strong class="highlight">D</strong>ocuments</li>
                <li>Manipulates documents based on data</li>
                <li>Library for creating and manipulating SVG/HTML <span class="fragment red">&rarr; no charting library!</span></li>
                <li>Successor to Protovis</li>
            </ul>
        </section>
        <section id="reasons">
            <h2>Reasons for why we should use it</h2>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
        </section>
        <section id="instruction">
            <h2>Instruction on how to use it</h2>
            <section id="canvas">
            TODO: Basics to SVGs<br>
            <div class="left">
                <pre><code class="html hljs" data-trim>
                    <svg class="canvas"></svg>
                </code></pre>
                <pre><code id="#executeCircle1" class="javascript hljs" data-trim>
                    // get canvas with select
                    var svg = d3.select(".canvas")
                        .attr("width", "100%")
                        .attr("height", "300px");
                    // append a rectancle
                    svg.append("rect")
                        .attr("width", "100%")
                        .attr("height", "100%")
                        .attr("fill", "#ffa"); // color
                </code></pre>
                <!--p data-markdown>- This is my first left element</p>
                <p data-markdown>- This is my second left element</p-->
                <!-- more Elements -->
            </div>
            <div class="right">
                <svg class="canvas"></svg>
            </div>
            </section>
            <section id="circle">
                TODO: select, data-binding, enter, exit, append
                <div class="left">
                <pre><code class="html hljs" data-trim>
                    <svg class="canvas"></svg>
                </code></pre>
                <!-- contenteditable in code, if you want it to run -->
                <pre><code class="javascript hljs" data-trim>
                    var circle = svg.selectAll("circle").data([80]);
                    // append circle
                    circle.enter().append("circle")
                        .attr("cx", 100) // x position of center
                        .attr("cy", 100) // y position of center
                        .attr('r', function(d) { return d; }) // radius
                        .attr("fill", "#f0f"); // color
                </code></pre>
                </div>
                <div class="right">
                    <svg class="canvas"></svg>
                </div>
                <aside class="notes">
                    Binding macht irgendwas
                </aside>
                <!--button>Run</button-->
            </section>
            <section>
                TODO: scale, attr, axis, transitions
            </section>
            <section id="events">
                <h3>Events</h3>
                <div class="left">
                <pre><code class="html hljs" data-trim>
                    <svg class="canvas"></svg>
                </code></pre>
                    <!-- contenteditable in code, if you want it to run -->
                    <pre><code class="javascript hljs" data-trim>
                    var circle = svg.selectAll("circle").data([80]);
                    // append circle
                    circle.enter().append("circle")
                        .attr("cx", 100) // x position of center
                        .attr("cy", 100) // y position of center
                        .attr('r', function(d) { return d; }) // radius
                        .attr("fill", "#f0f"); // color
                </code></pre>
                </div>
                <div class="right">
                    <svg class="canvas"></svg>
                </div>
            </section>
        </section>
        <section id="lookandfeel">
            <h2>Look & feel</h2>
            <section>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
            </section>
        </section>
        <section id="alternatives">
            <h2>Alternatives</h2>
            <section>
                <h3>Chart.js</h3>
                <ul>
                    <li>Easy, object oriented client side graphs for designers and developers</li>
                    <li>6 chart types</li>
                </ul>
            </section>
            <section>
                <h3>Raphaël.js</h3>
                <ul>
                    <li>Also uses SVG for rendering</li>
                    <li>Provides abstraction layer for browsers which do not support SVG</li>
                    <li>Uses VML for older IE</li>
                </ul>
                <div class="left">
                    <pre><code class="javascript hljs" data-trim>
                        // Creates canvas 320 × 200 at raphaelCircle
                        var paper = Raphael("raphaelCircle", 320, 200);

                        // Creates circle at x = 50, y = 40, with radius 10
                        var circle = paper.circle(50, 40, 20);
                        // Sets the fill attribute of the circle to red (#f00)
                        circle.attr("fill", "#f00");
                        // Sets the stroke attribute of the circle to white
                        circle.attr("stroke", "#fff");
                    </code></pre>
                </div>
                <div class="right">
                    <div id="raphaelCircle"></div>
                </div>
            </section>
            <section>
                <h3>nvd3.js</h3>
                <ul>
                    <li>Building re-usable charts and chart components</li>
                    <li>Based on D3.js</li>
                </ul>
            </section>
        </section>
        <section>
            <h1></h1>
            <p></p>
        </section>
        <section>
            <h1></h1>
            <p></p>
        </section>
        <section>
            <h1></h1>
            <p></p>
        </section>
    </div>
</div>
<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>
<script src="js/d3.min.js"></script>
<script src="js/raphael.min.js"></script>
<script src="js/chart.min.js"></script>
<script src="plugin/highlight/highlight.js"></script>
<script>
    // Reveal.js Code

    // More info https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: false,
        width: "1280",
        height: "720",
        //margin: 0,

        transition: 'fade', // none/fade/slide/convex/concave/zoom

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
            { src: 'plugin/markdown/marked.js' },
            { src: 'plugin/markdown/markdown.js' },
            { src: 'plugin/notes/notes.js', async: true },
            { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
        ]
    });

    /*var svg = d3.select("#circle");
    var circle = svg.select("svg").data([1000]);
    circle.enter().append("circle")
        .attr("cy", 0)
        .attr("cx", 0)
        .attr('r', function(d) { return Math.sqrt(d); });*/
//    circle.transition()
//        .attr("r", function(d) { return Math.sqrt(d); });
    //circle.exit().transition()
     //   .attr('r', 0)
     //   .remove();
</script>
<script type="text/javascript">
    // D3.js Code

    // does not work yet, no idea why
    var svg = d3.selectAll(".canvas")
        .attr("width", "100%")
        .attr("height", "300px");
    svg.append("rect")
        .attr("width", "100%")
        .attr("height", "100%")
        .attr("fill", "#ffa");

    Reveal.addEventListener( 'slidechanged', function( event ) {
        // event.previousSlide, event.currentSlide, event.indexh, event.indexv
        svg.on("mousrover", null);
        svg.on("mouseout", null);
        svg.selectAll("circle").remove();
        if (event.currentSlide == null) {
            return;
        }
        if (event.currentSlide.id == "circle" || event.currentSlide.id == "events") {
            var circle = svg.selectAll("circle").data([80]);
            circle.enter().append("circle")
                .attr("cy", 100)
                .attr("cx", 100)
                .attr('r', function(d) { return d; })
                .attr("fill", "#f00");
        }
        if (event.currentSlide.id == "events") {
            svg.on("mouseover", function(d, index, array){
                svg.selectAll("circle").transition().duration(500)
                    .attr("cx", 200);
            }).on("mouseout", function(d) {
                svg.selectAll("circle").transition().duration(500)
                    .attr("cx", 100);
            });
        }
    } );
</script>
<script>
    // Raphael.js Code

    // Creates canvas 320 × 200 at raphaelCircle
    var rPaper = Raphael("raphaelCircle", 320, 200);

    // Creates circle at x = 50, y = 40, with radius 10
    var rCircle = rPaper.circle(50, 40, 20);
    // Sets the fill attribute of the circle to red (#f00)
    rCircle.attr("fill", "#f00");

    // Sets the stroke attribute of the circle to white
    rCircle.attr("stroke", "#00f");
</script>
</body>
</html>